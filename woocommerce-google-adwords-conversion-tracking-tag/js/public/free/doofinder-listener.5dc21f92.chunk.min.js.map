{"version":3,"file":"doofinder-listener.5dc21f92.chunk.min.js","mappings":";uHAAAA,SAASC,iBAAiB,qBAAsBC,UAE/C,MAAM,QAACC,EAAO,OAAEC,GAAUC,EAAMC,OAMhC,GAJKC,aAAaC,SAASL,UACpBM,IAAIC,uBAAuB,CAACP,KAG9BI,aAAaC,SAASL,GAE1B,YADAQ,QAAQC,IAAI,wDAIb,IAAIC,EAAUJ,IAAIK,mCAAmCX,EAASC,GAEzDS,EAMLE,OAAOf,UAAUgB,QAAQ,kBAAmBH,GAL3CJ,IAAIE,QAAQM,MAAM,sB","sources":["webpack://Pixel-Manager-for-WooCommerce/./src/js-src/public/pmw/listeners/doofinder.js"],"sourcesContent":["document.addEventListener(\"doofinder.cart.add\", async event => {\n\n\tconst {item_id, amount} = event.detail\n\n\tif (!pmwDataLayer.products[item_id]) {\n\t\tawait pmw.getProductsFromBackend([item_id])\n\t}\n\n\tif (!pmwDataLayer.products[item_id]) {\n\t\tconsole.log(\"Product not found in dataLayer or server. Exiting...\")\n\t\treturn\n\t}\n\n\tlet product = pmw.getProductDetailsFormattedForEvent(item_id, amount)\n\n\tif (!product) {\n\t\tpmw.console.error(\"Product not found\")\n\t\treturn\n\t}\n\n\t// Trigger \"pmw:add-to-cart\" event using jQuery\n\tjQuery(document).trigger(\"pmw:add-to-cart\", product)\n})\n"],"names":["document","addEventListener","async","item_id","amount","event","detail","pmwDataLayer","products","pmw","getProductsFromBackend","console","log","product","getProductDetailsFormattedForEvent","jQuery","trigger","error"],"ignoreList":[],"sourceRoot":""}