/*! Copyright 2025 SweetCode. All rights reserved. */
(self.webpackChunkPixel_Manager_for_WooCommerce=self.webpackChunkPixel_Manager_for_WooCommerce||[]).push([[671],{62(e,t,a){a(352),a(729),a(931)},185(){!function(e){e.registerAdapter("google_analytics",new class{adapt(e,t,a){if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return null;const o={view_item_list:()=>this.adaptViewItemList(e),select_item:()=>this.adaptSelectItem(e),add_to_cart:()=>this.adaptAddToCart(e),view_item:()=>this.adaptViewItem(e),add_to_wishlist:()=>this.adaptAddToWishlist(e),remove_from_cart:()=>this.adaptRemoveFromCart(e),begin_checkout:()=>this.adaptBeginCheckout(e),add_shipping_info:()=>this.adaptAddShippingInfo(e),add_payment_info:()=>this.adaptAddPaymentInfo(e),view_cart:()=>this.adaptViewCart(e),search:()=>this.adaptSearch(e),purchase:()=>this.adaptPurchase(e)};return o[t]?o[t]():null}adaptViewItemList(t){return t?.product?{event_name:"view_item_list",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,items:[e.ga4GetFullProductItemData(t.product)],item_list_name:pmwDataLayer.shop.list_name,item_list_id:pmwDataLayer.shop.list_id}}:null}adaptSelectItem(t){return t?.product?{event_name:"select_item",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,items:[e.ga4GetFullProductItemData(t.product)]}}:null}adaptAddToCart(t){if(!t?.product)return null;const a=t.product;return{event_name:"add_to_cart",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,currency:pmwDataLayer.shop.currency,value:a.price*a.quantity,items:[e.ga4GetFullProductItemData(a)]}}}adaptViewItem(t){const a={event_name:"view_item",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id}};return t?.product&&(a.event_data.currency=pmwDataLayer.shop.currency,a.event_data.items=[e.ga4GetFullProductItemData(t.product)]),a}adaptAddToWishlist(t){if(!t?.product)return null;const a=t.product;return{event_name:"add_to_wishlist",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,currency:pmwDataLayer.shop.currency,value:a.price*a.quantity,items:[e.ga4GetFullProductItemData(a)]}}}adaptRemoveFromCart(t){if(!t?.product)return null;const a=t.product;return{event_name:"remove_from_cart",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,currency:pmwDataLayer.shop.currency,value:a.price*a.quantity,items:[e.ga4GetFullProductItemData(a)]}}}adaptBeginCheckout(t){return{event_name:"begin_checkout",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,currency:pmwDataLayer.shop.currency,value:e.getCartValue(),items:e.getCartItemsGa4()}}}adaptAddShippingInfo(t){const a={event_name:"add_shipping_info",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,currency:pmwDataLayer.shop.currency,value:e.getCartValue(),items:e.getCartItemsGa4()}};return t?.shippingTier?.text&&(a.event_data.shipping_tier=t.shippingTier.text),a}adaptAddPaymentInfo(t){const a={event_name:"add_payment_info",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,currency:pmwDataLayer.shop.currency,value:e.getCartValue(),items:e.getCartItemsGa4()}};return t?.paymentType?.text&&(a.event_data.payment_type=t.paymentType.text),a}adaptViewCart(t){if(jQuery.isEmptyObject(pmwDataLayer.cart))return null;let a=[],o=0;return Object.values(pmwDataLayer.cart).forEach(t=>{a.push(e.ga4GetFullProductItemData(t)),o+=t.quantity*t.price}),{event_name:"view_cart",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,currency:pmwDataLayer.shop.currency,value:o.toFixed(2),items:a}}}adaptSearch(t){let a=[];return Object.values(pmwDataLayer.products).forEach(t=>{a.push(e.ga4GetFullProductItemData(t))}),{event_name:"view_search_results",event_data:{send_to:pmwDataLayer.pixels.google.analytics.ga4.measurement_id,search_term:e.getSearchTermFromUrl(),items:a}}}adaptPurchase(t){if(pmwDataLayer?.pixels?.google?.analytics?.ga4?.mp_active)return null;const a={event_name:"purchase",event_data:{send_to:[pmwDataLayer.pixels.google.analytics.ga4.measurement_id],transaction_id:pmwDataLayer.order.number,affiliation:pmwDataLayer.order.affiliation,currency:pmwDataLayer.order.currency,value:pmwDataLayer.order.value.total,discount:pmwDataLayer.order.discount,tax:pmwDataLayer.order.tax,shipping:pmwDataLayer.order.shipping,coupon:pmwDataLayer.order.coupon,items:e.getGA4OrderItems(),payment_type:pmwDataLayer.order.payment_type,payment_type_title:pmwDataLayer.order.payment_type_title}};return pmwDataLayer?.order?.custom_parameters&&Object.keys(pmwDataLayer.order.custom_parameters).forEach(e=>{a.event_data[e]=pmwDataLayer.order.custom_parameters[e]}),a}},{isActive:()=>!!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id})}(window.pmw=window.pmw||{},jQuery)},346(){!function(e){e.googleConfigConditionsMet=({type:t=null,log:a=!1})=>pmwDataLayer?.pixels?.google?.consent_mode?.is_active?(a&&e.console.log("Google Consent Mode is active. Loading the Google pixel."),!0):t?e.consent.categories.get()[t]?(a&&e.console.log("The category "+t+" has been approved. Loading the Google pixel."),!0):(a&&e.console.log("The category "+t+" has been denied. Not loading the Google pixel."),!1):!(!e.consent.categories.get().marketing&&!e.consent.categories.get().statistics)&&(a&&e.console.log("The categories statistics and/or marketing are approved. Loading the Google pixel."),!0),e.fireGtagGoogleAds=()=>{try{pmwDataLayer.pixels.google.ads.state="loading",pmwDataLayer?.pixels?.google?.enhanced_conversions?.is_active?Object.keys(pmwDataLayer.pixels.google.ads.conversion_ids).forEach(e=>{gtag("config",e,{allow_enhanced_conversions:!0})}):Object.keys(pmwDataLayer.pixels.google.ads.conversion_ids).forEach(e=>{gtag("config",e)}),pmwDataLayer?.pixels?.google?.ads?.conversion_ids&&pmwDataLayer?.pixels?.google?.ads?.phone_conversion_label&&pmwDataLayer?.pixels?.google?.ads?.phone_conversion_number&&gtag("config",Object.keys(pmwDataLayer.pixels.google.ads.conversion_ids)[0]+"/"+pmwDataLayer.pixels.google.ads.phone_conversion_label,{phone_conversion_number:pmwDataLayer.pixels.google.ads.phone_conversion_number}),pmwDataLayer.pixels.google.ads.state="ready"}catch(e){console.error(e)}},e.fireGtagGoogleAnalyticsGA4=()=>{try{pmwDataLayer.pixels.google.analytics.ga4.state="loading";let e=pmwDataLayer.pixels.google.analytics.ga4.parameters;pmwDataLayer?.pixels?.google?.analytics?.ga4?.debug_mode&&(e.debug_mode=!0),gtag("config",pmwDataLayer.pixels.google.analytics.ga4.measurement_id,e),pmwDataLayer.pixels.google.analytics.ga4.state="ready"}catch(e){console.error(e)}},e.isGoogleActive=()=>!!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id||!jQuery.isEmptyObject(pmwDataLayer?.pixels?.google?.ads?.conversion_ids),e.getGoogleGtagId=()=>pmwDataLayer?.pixels?.google?.tag_id?pmwDataLayer.pixels.google.tag_id:pmwDataLayer?.pixels?.google?.ads?.conversion_ids&&Object.keys(pmwDataLayer.pixels.google.ads.conversion_ids)[0]?Object.keys(pmwDataLayer.pixels.google.ads.conversion_ids)[0]:pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id?pmwDataLayer.pixels.google.analytics.ga4.measurement_id:"";const t="gtg_h";let a=!1;const o=["external","standalone","wordpress"],r=()=>{try{const a=e.retrieveData(t);if(a&&o.includes(a))return a}catch(e){}return null},n=a=>{try{e.storeData(t,a)}catch(e){}};e.getGoogleTagGatewayUrlAsync=async()=>{const t=e.getGoogleGtagId();if(!t)return"";const o=pmwDataLayer?.pixels?.google?.tag_gateway;if(!o?.measurement_path)return"";let s=r();return s||(s=await(async()=>{if(a)return new Promise(e=>{const t=setInterval(()=>{const a=r();a&&(clearInterval(t),e(a))},10);setTimeout(()=>{clearInterval(t),e("wordpress")},2e3)});a=!0;const t=pmwDataLayer?.pixels?.google?.tag_gateway;if(t?.measurement_path){const a=t.measurement_path+"/healthy";try{const t=(await fetch(a,{method:"GET",cache:"no-store"})).headers.get("X-PMW-GTG-Handler");if(!t)return n("external"),e.console.log("GTG handler: external (CDN/edge proxy)"),"external";if("wordpress"===t&&e.console.log("WordPress proxy detected on measurement_path, checking for standalone proxy..."),"standalone"===t)return n("standalone"),e.console.log("GTG handler: standalone (direct PHP proxy via measurement_path)"),"standalone"}catch(t){e.console.log("measurement_path not accessible:",t.message)}}if(t?.proxy_url){const a=t.proxy_url+"?healthCheck=1";try{if("standalone"===(await fetch(a,{method:"GET",cache:"no-store"})).headers.get("X-PMW-GTG-Handler"))return n("standalone"),e.console.log("GTG handler: standalone (direct PHP proxy)"),"standalone"}catch(t){e.console.log("proxy_url not accessible:",t.message)}}return n("wordpress"),e.console.log("GTG handler: wordpress (WordPress fallback proxy)"),"wordpress"})()),"external"===s?(e.console.log("Using measurement_path for GTG (external/CDN proxy)"),o.measurement_path+"/?id="+encodeURIComponent(t)+"&s=/gtag/js"):"standalone"===s&&o.proxy_url?(e.console.log("Using proxy_url for GTG (standalone proxy)"),o.proxy_url+"?id="+encodeURIComponent(t)+"&s=/gtag/js"):(e.console.log("Using measurement_path for GTG (WordPress fallback proxy)"),o.measurement_path+"/?id="+encodeURIComponent(t)+"&s=/gtag/js")},getGoogleTagGatewayUrl=()=>{const t=e.getGoogleGtagId();if(!t)return"";const a=pmwDataLayer?.pixels?.google?.tag_gateway;if(!a?.measurement_path)return"";const o=r();return"external"===o?a.measurement_path+"/?id="+encodeURIComponent(t)+"&s=/gtag/js":"isolated"===o&&a.proxy_url?a.proxy_url+"?id="+encodeURIComponent(t)+"&s=/gtag/js":a.measurement_path+"/?id="+encodeURIComponent(t)+"&s=/gtag/js"},e.getGoogleTrackingUrlAsync=async()=>{if(e.isBotUserAgent())return getGoogleStandardTrackingUrl();const t=await e.getGoogleTagGatewayUrlAsync();return t||getGoogleStandardTrackingUrl()},getGoogleTrackingUrl=()=>{if(e.isBotUserAgent())return getGoogleStandardTrackingUrl();const t=getGoogleTagGatewayUrl();return t||getGoogleStandardTrackingUrl()},getGoogleStandardTrackingUrl=()=>"https://www.googletagmanager.com/gtag/js?id="+e.getGoogleGtagId(),e.loadGoogle=async()=>{if(!e.isGoogleActive())return;pmwDataLayer.pixels.google.state="loading";const t=await e.getGoogleTrackingUrlAsync();e.console.log("Loading Google gtag.js from",t.startsWith("/")?window.location.origin+t:t),e.loadScriptAndCacheIt(t,getGoogleStandardTrackingUrl()).then((t,a)=>{try{if(pmwDataLayer?.pixels?.google?.tcf_support&&(window.gtag_enable_tcf_support=!0),window.dataLayer=window.dataLayer||[],window.gtag=function(){e.console.log("gtag called with",arguments),e.consent.api.processExternalGcmConsentUpdate_experimental(arguments),3===arguments.length&&arguments[2]?.source&&delete arguments[2].source,dataLayer.push(arguments)},pmwDataLayer?.pixels?.google?.consent_mode?.is_active){let t={ad_personalization:e.consent.categories.get().marketing?"granted":"denied",ad_storage:e.consent.categories.get().marketing?"granted":"denied",ad_user_data:e.consent.categories.get().marketing?"granted":"denied",analytics_storage:e.consent.categories.get().statistics?"granted":"denied",functionality_storage:e.consent.categories.get().preferences?"granted":"denied",personalization_storage:e.consent.categories.get().preferences?"granted":"denied",security_storage:e.consent.categories.get().necessary?"granted":"denied",wait_for_update:pmwDataLayer.pixels.google.consent_mode.wait_for_update};pmwDataLayer?.general?.consent_management?.restricted_regions&&(t.region=pmwDataLayer.general.consent_management.restricted_regions),e.console.log("Google Consent Mode settings",t),gtag("consent","default",t),gtag("set","ads_data_redaction",pmwDataLayer.pixels.google.consent_mode.ads_data_redaction),gtag("set","url_passthrough",pmwDataLayer.pixels.google.consent_mode.url_passthrough)}pmwDataLayer?.pixels?.google?.linker?.settings&&gtag("set","linker",pmwDataLayer.pixels.google.linker.settings),gtag("js",new Date),gtag("set","developer_id.dNDI5Yz",!0),pmwDataLayer?.shop?.page_type&&"order_received_page"===pmwDataLayer.shop.page_type&&pmwDataLayer?.order?.google?.enhanced_conversion_data&&gtag("set","user_data",pmwDataLayer.order.google.enhanced_conversion_data),jQuery.isEmptyObject(pmwDataLayer?.pixels?.google?.ads?.conversion_ids)||(e.googleConfigConditionsMet({type:"marketing"})?e.fireGtagGoogleAds():e.consent.logSuppressedPixel("marketing","Google Ads")),pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id&&(e.googleConfigConditionsMet({type:"statistics"})?e.fireGtagGoogleAnalyticsGA4():e.consent.logSuppressedPixel("statistics","GA4")),pmwDataLayer.pixels.google.state="ready"}catch(e){console.error(e)}}).catch((a,o,r)=>{e.console.error("The URL "+t+" could not be loaded. Error: "+r),pmwDataLayer.pixels.google.state="error"})},e.gtagLoaded=()=>new Promise((t,a)=>{e.isGoogleActive()||a("Google is not active");let o=0;!function r(){return"ready"===pmwDataLayer?.pixels?.google?.state?t():o>=5e3?(e.console.error("Google gtag failed to load. Probably a third party script is blocking it."),a()):(o+=200,void setTimeout(r,200))}()}),e.updateGoogleConsentMode=({statistics:t=e.consent.categories.get().statistics,marketing:a=e.consent.categories.get().marketing,preferences:o=e.consent.categories.get().preferences,necessary:r=e.consent.categories.get().necessary})=>{try{if(!window.gtag)return;let n={analytics_storage:t?"granted":"denied",ad_storage:a?"granted":"denied",ad_user_data:a?"granted":"denied",ad_personalization:a?"granted":"denied",functionality_storage:o?"granted":"denied",personalization_storage:o?"granted":"denied",security_storage:r?"granted":"denied",source:"pmw"};gtag("consent","update",n),e.console.log("Google Consent Mode updated",n)}catch(e){console.error(e)}}}(window.pmw=window.pmw||{},jQuery)},352(e,t,a){a(346),a(465)},465(){jQuery(document).on("pmw:load-pixels",function(){void 0===pmwDataLayer?.pixels?.google?.state&&(pmw.googleConfigConditionsMet({log:!0})?pmw.loadGoogle():pmw.consent.logSuppressedPixel("statistics","Google Analytics / Google Ads"))}),document.addEventListener("pmw:consent:update",({detail:e})=>{const t=e;pmw.updateGoogleConsentMode(t)},!0)},606(){jQuery(document).on("pmw:pixel:view-item-list",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_ads"))return;const e=t.pixels?.google_ads;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event","view_item_list",e),pmw.console.log("Google Ads: view_item_list event sent",e)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:add-to-cart",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_ads"))return;const e=t.pixels?.google_ads;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event","add_to_cart",e),pmw.console.log("Google Ads: add_to_cart event sent",e)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:view-item",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_ads"))return;const e=t.pixels?.google_ads;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event","view_item",e),pmw.console.log("Google Ads: view_item event sent",e)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:search",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_ads"))return;const e=t.pixels?.google_ads;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event","view_search_results",e),pmw.console.log("Google Ads: view_search_results event sent",e)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:login",()=>{try{if(jQuery.isEmptyObject(pmwDataLayer?.pixels?.google?.ads?.conversion_ids))return;if(!pmw.googleConfigConditionsMet({type:"marketing"}))return;let e={send_to:pmw.getGoogleAdsConversionIdentifiers()};pmwDataLayer?.user?.id?.raw&&(e.user_id=pmwDataLayer.user.id.raw),pmw.gtagLoaded().then(()=>{gtag("event","login",e),pmw.console.log("Google Ads: login event sent",e)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:purchase",()=>{try{if(jQuery.isEmptyObject(pmw.getGoogleAdsConversionIdentifiersWithLabel()))return;if(!pmw.googleConfigConditionsMet({type:"marketing"}))return;let e={send_to:pmw.getGoogleAdsConversionIdentifiers(),value:pmwDataLayer.order.value.marketing,items:pmw.getGoogleAdsRegularOrderItems()};pmw.gtagLoaded().then(()=>{gtag("event","purchase",e),pmw.console.log("Google Ads: purchase event sent (for remarketing lists)",e)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:purchase",()=>{try{if(jQuery.isEmptyObject(pmw.getGoogleAdsConversionIdentifiersWithLabel()))return;if(!pmw.googleConfigConditionsMet({type:"marketing"}))return;let e={send_to:pmw.getGoogleAdsConversionIdentifiersWithLabel(),transaction_id:pmwDataLayer.order.number,value:pmwDataLayer.order.value.marketing,currency:pmwDataLayer.order.currency,new_customer:pmwDataLayer.order.new_customer};pmwDataLayer?.order?.value?.ltv?.marketing&&(e.customer_lifetime_value=pmwDataLayer.order.value.ltv.marketing),pmwDataLayer?.user?.id?.raw&&(e.user_id=pmwDataLayer.user.id.raw),pmwDataLayer?.order?.aw_merchant_id&&(e.discount=pmwDataLayer.order.discount,e.aw_merchant_id=pmwDataLayer.order.aw_merchant_id,e.aw_feed_country=pmwDataLayer.order.aw_feed_country,e.aw_feed_language=pmwDataLayer.order.aw_feed_language,e.items=pmw.getGoogleAdsRegularOrderItems()),pmwDataLayer?.order?.google?.ads?.custom_variables&&Object.entries(pmwDataLayer.order.google.ads.custom_variables).forEach(([t,a])=>{e[t]=a}),pmw.gtagLoaded().then(()=>{gtag("event","purchase",e),pmw.console.log("Google Ads: conversion event sent",e)})}catch(e){console.error(e)}})},624(){!function(e){e.getGA4OrderItems=function(){let e=[];return Object.values(pmwDataLayer.order.items).forEach(t=>{let a;a={quantity:t.quantity,price:t.price,item_name:t.name,currency:pmwDataLayer.order.currency,item_category:pmwDataLayer.products[t.id].category.join("/")},t?.custom_parameters&&Object.keys(t.custom_parameters).forEach(e=>{a[e]=t.custom_parameters[e]}),0!==t.variation_id?(a.item_id=String(pmwDataLayer.products[t.variation_id].dyn_r_ids[pmwDataLayer.pixels.google.analytics.id_type]),a.item_variant=pmwDataLayer.products[t.variation_id].variant_description,a.item_brand=pmwDataLayer.products[t.variation_id].brand):(a.item_id=String(pmwDataLayer.products[t.id].dyn_r_ids[pmwDataLayer.pixels.google.analytics.id_type]),a.item_brand=pmwDataLayer.products[t.id].brand),e.push(a)}),e},e.ga4AddFormattedCategories=(e,t)=>{if(t=Array.from(new Set(t)),Array.isArray(t)&&t.length){e.item_category=t[0];let a=t.length>5?5:t.length;for(let o=1;o<a;o++)e["item_category"+(o+1)]=t[o]}return e},e.getCartItemsGa4=()=>{let t=[];return Object.values(pmwDataLayer.cart).forEach(a=>{t.push(e.ga4GetFullProductItemData(a))}),t},e.ga4GetBasicProductItemData=e=>({item_id:e.dyn_r_ids[pmwDataLayer.pixels.google.analytics.id_type],item_name:e.name,item_brand:e.brand,item_variant:e.variant,price:e.price,currency:pmwDataLayer.shop.currency,quantity:e.quantity}),e.ga4AddListNameToProduct=(e,t=null)=>(e.item_list_name=pmwDataLayer.shop.list_name,e.item_list_id=pmwDataLayer.shop.list_id,t&&(e.index=t),e),e.ga4GetFullProductItemData=t=>{let a;return a=e.ga4GetBasicProductItemData(t),a=e.ga4AddListNameToProduct(a,t.position),a=e.ga4AddFormattedCategories(a,t.category),a}}(window.pmw=window.pmw||{},jQuery)},666(e,t,a){a(624),a(843)},729(e,t,a){a(884),a(821),a(606)},821(){!function(e){e.getGoogleAdsConversionIdentifiersWithLabel=()=>{let e=[];return pmwDataLayer?.pixels?.google?.ads?.conversion_ids&&Object.entries(pmwDataLayer.pixels.google.ads.conversion_ids).forEach(([t,a])=>{a&&(Array.isArray(a)?a.forEach(a=>{a&&e.push(t+"/"+a)}):e.push(t+"/"+a))}),e},e.getGoogleAdsConversionIdentifiers=()=>{let e=[];return Object.keys(pmwDataLayer.pixels.google.ads.conversion_ids).forEach(t=>{e.push(t)}),e},e.getGoogleAdsRegularOrderItems=()=>{let e=[];return Object.values(pmwDataLayer.order.items).forEach(t=>{let a;a={quantity:t.quantity,price:t.price_tax_excluded,google_business_vertical:pmwDataLayer.pixels.google.ads.google_business_vertical},pmwDataLayer?.shop?.variations_output&&0!==t.variation_id?(a.id=String(pmwDataLayer.products[t.variation_id].dyn_r_ids[pmwDataLayer.pixels.google.ads.dynamic_remarketing.id_type]),e.push(a)):(a.id=String(pmwDataLayer.products[t.id].dyn_r_ids[pmwDataLayer.pixels.google.ads.dynamic_remarketing.id_type]),e.push(a))}),e}}(window.pmw=window.pmw||{},jQuery)},843(){jQuery(document).on("pmw:pixel:view-item-list",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:select-item",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:add-to-cart",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:view-item",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:add-to-wishlist",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:remove-from-cart",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:begin-checkout",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:add-shipping-info",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:add-payment-info",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:view-cart",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:search",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}}),jQuery(document).on("pmw:pixel:purchase",(e,t)=>{try{if(!pmw.shouldFireBrowserPixel(t,"google_analytics"))return;if(!pmwDataLayer?.pixels?.google?.analytics?.ga4?.measurement_id)return;if(console.log("Google GA4 purchase event listener triggered"),pmwDataLayer?.pixels?.google?.analytics?.ga4?.mp_active)return;if(!pmw.googleConfigConditionsMet({type:"statistics"}))return;const e=t.pixels?.google_analytics;if(!e)return;pmw.gtagLoaded().then(()=>{gtag("event",e.event_name,e.event_data),pmw.console.log(`Google Analytics: ${e.event_name} event sent`,e.event_data)})}catch(e){console.error(e)}})},884(){!function(e){const t={adapt(t,a,o){if(jQuery.isEmptyObject(pmwDataLayer?.pixels?.google?.ads?.conversion_ids))return null;if(!e.googleConfigConditionsMet({type:"marketing"}))return null;const r={view_item_list:this.adaptViewItemList,add_to_cart:this.adaptAddToCart,view_item:this.adaptViewItem,search:this.adaptSearch,login:this.adaptLogin,purchase:this.adaptPurchase}[a];if(!r)return e.console.log(`No Google Ads adapter for event: ${a}`),null;try{return r.call(this,t,o)}catch(t){return e.console.error(`Google Ads adapter error for ${a}:`,t),null}},getBaseData(){const t={send_to:e.getGoogleAdsConversionIdentifiers()};return pmwDataLayer?.user?.id?.raw&&(t.user_id=pmwDataLayer.user.id.raw),t},getProductItemData:e=>e?.dyn_r_ids?{id:e.dyn_r_ids[pmwDataLayer.pixels.google.ads.dynamic_remarketing.id_type],google_business_vertical:pmwDataLayer.pixels.google.ads.google_business_vertical}:null,adaptViewItemList(e,t){const a=e.product;if(!a)return null;if(pmwDataLayer?.shop?.variations_output&&a.is_variable&&!1===pmwDataLayer.pixels.google.ads.dynamic_remarketing.send_events_with_parent_ids)return null;const o=this.getProductItemData(a);return o?{...this.getBaseData(),items:[o]}:null},adaptAddToCart(e,t){const a=e.product,o=this.getProductItemData(a);return o?{...this.getBaseData(),value:a.quantity*a.price,items:[{...o,quantity:a.quantity,price:a.price}]}:null},adaptViewItem(e,t){const a=e.product,o=this.getBaseData();if(a){const e=this.getProductItemData(a);if(!e)return null;o.value=(a.quantity?a.quantity:1)*a.price,o.items=[{...e,quantity:a.quantity?a.quantity:1,price:a.price}]}return o},adaptSearch(e,t){const a=[];return Object.values(pmwDataLayer.products).forEach(e=>{if(pmwDataLayer?.shop?.variations_output&&e.is_variable&&!1===pmwDataLayer.pixels.google.ads.dynamic_remarketing.send_events_with_parent_ids)return;const t=this.getProductItemData(e);t&&a.push({...t})}),{...this.getBaseData(),items:a}},adaptLogin(e,t){return this.getBaseData()},adaptPurchase:(t,a)=>pmwDataLayer?.order?{remarketing:{send_to:e.getGoogleAdsConversionIdentifiers(),value:pmwDataLayer.order.value.marketing,items:e.getGoogleAdsRegularOrderItems()},conversion:{send_to:e.getGoogleAdsConversionIdentifiersWithLabel(),transaction_id:pmwDataLayer.order.number,value:pmwDataLayer.order.value.marketing,currency:pmwDataLayer.order.currency,new_customer:pmwDataLayer.order.new_customer,...pmwDataLayer?.order?.value?.ltv?.marketing&&{customer_lifetime_value:pmwDataLayer.order.value.ltv.marketing},...pmwDataLayer?.user?.id?.raw&&{user_id:pmwDataLayer.user.id.raw},...pmwDataLayer?.order?.aw_merchant_id&&{discount:pmwDataLayer.order.discount,aw_merchant_id:pmwDataLayer.order.aw_merchant_id,aw_feed_country:pmwDataLayer.order.aw_feed_country,aw_feed_language:pmwDataLayer.order.aw_feed_language,items:e.getGoogleAdsRegularOrderItems()},...pmwDataLayer?.order?.google?.ads?.custom_variables&&pmwDataLayer.order.google.ads.custom_variables}}:(e.console.error("Order data not available for Google Ads Purchase event"),null)};e.registerAdapter("google_ads",t,{isActive:()=>pmwDataLayer?.pixels?.google?.ads?.conversion_ids&&Object.keys(pmwDataLayer.pixels.google.ads.conversion_ids).length>0})}(window.pmw=window.pmw||{},jQuery)},931(e,t,a){a(185),a(666)}}]);
//# sourceMappingURL=pixel-google.87d84819.chunk.min.js.map